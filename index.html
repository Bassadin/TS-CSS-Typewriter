<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Typewriter example</title>
        <style>
            .typewriter {
                color: #000;
                border-right: 0.08em solid;
                padding-right: 3.2px;
                animation: blinkingCursor 1.1s step-end 0s infinite;
                border-right-color: #000;
            }

            @keyframes blinkingCursor {
                50% {
                    border-right-color: rgba(0, 0, 0, 0);
                }
            }
        </style>
        <script>
            var TxtType = function(element, typewriterWords, postTypeDelay) {
                this.typewriterWords = typewriterWords;
                this.element = element;
                this.currentCharacterIndex = 0;
                this.postTypeDelay = parseInt(postTypeDelay, 10) || 2000;
                this.typedText = "";
                this.tick();
                this.isDeleting = false;
            };

            TxtType.prototype.tick = function() {
                var i =
                    this.currentCharacterIndex % this.typewriterWords.length;
                var fullTxt = this.typewriterWords[i];

                //Add/remove characters
                if (this.isDeleting) {
                    this.typedText = fullTxt.substring(
                        0,
                        this.typedText.length - 1
                    );
                } else {
                    this.typedText = fullTxt.substring(
                        0,
                        this.typedText.length + 1
                    );
                }

                //Set the currently typed text as innerHTML
                this.element.innerHTML = this.typedText;

                //Add some randomization to the writing animation
                var delta = 150;
                delta = delta - (Math.random() * delta) / 2;

                //Double speed if deleting
                if (this.isDeleting) {
                    delta /= 2.5;
                }

                //Set the deletion state
                if (!this.isDeleting && this.typedText === fullTxt) {
                    delta = this.postTypeDelay;
                    this.isDeleting = true;
                } else if (this.isDeleting && this.typedText === "") {
                    this.isDeleting = false;
                    this.currentCharacterIndex++;
                    delta = 500;
                }

                var that = this;
                setTimeout(function() {
                    that.tick();
                }, delta);
            };

            window.onload = function() {
                //Search all dom elements with typewriter class to instatiate
                var elements = document.getElementsByClassName("typewriter");
                for (var i = 0; i < elements.length; i++) {
                    //Split string via semicolons
                    var typewriterWords = elements[i]
                        .getAttribute("data-typewriter-words")
                        .split(";");
                    //Read the post type delay
                    var postTypeDelay = elements[i].getAttribute(
                        "data-post-type-delay"
                    );
                    //Initialize typewriter object if typewriterWords aren't empty
                    if (typewriterWords) {
                        new TxtType(
                            elements[i],
                            typewriterWords,
                            postTypeDelay
                        );
                    }
                }
            };
        </script>
    </head>

    <body>
        <h1>
            Lorem
            <span
                class="typewriter"
                data-post-type-delay="2000"
                data-typewriter-words="ipsum.;dolor dit.;amet."
                data-type="array-basic"
            >
            </span>
        </h1>
        <h2>
            <span
                class="typewriter"
                data-post-type-delay="1500"
                data-typewriter-words="If a player would draw a card except the first one they draw in their draw step each turn, that player discards a card instead.;If the player discards a card this way, they draw a card.;If the player doesnâ€™t discard a card this way, they put the top card of their library into their graveyard."
                data-type="array-basic"
            >
            </span>
        </h2>
    </body>
</html>
